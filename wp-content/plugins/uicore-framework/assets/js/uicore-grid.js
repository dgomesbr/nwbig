var EGallery=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=9)}([function(a){a.exports=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},function(a){function b(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}a.exports=function(a,c,d){return c&&b(a.prototype,c),d&&b(a,d),a}},function(a,b,c){var d=c(5),f=c(6);a.exports=function(a,b){return b&&("object"===d(b)||"function"==typeof b)?b:f(a)}},function(a){function b(c){return a.exports=b=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},b(c)}a.exports=b},function(a,b,c){var d=c(7);a.exports=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&d(a,b)}},function(a){function b(a){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c(a){return(c="function"==typeof Symbol&&"symbol"===b(Symbol.iterator)?function(a){return b(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":b(a)})(a)}function d(b){return a.exports="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?d=function(a){return c(a)}:d=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":c(a)},d(b)}a.exports=d},function(a){a.exports=function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}},function(a){function b(c,d){return a.exports=b=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},b(c,d)}a.exports=b},function(){},function(b,d,e){"use strict";e.r(d);var g=e(0),i=e.n(g),j=e(1),k=e.n(j),n=e(2),a=e.n(n),o=e(3),l=e.n(o),c=e(4),h=e.n(c),p=function(){function a(b){i()(this,a),this.settings=jQuery.extend(!0,this.getDefaultSettings(),b),this.$container=jQuery(this.settings.container),this.runGallery=this.debounce(this.runGallery.bind(this),300),this.initElements(),this.prepareGallery(),this.bindEvents()}return k()(a,[{key:"getDefaultSettings",value:function(){return{}}},{key:"getItemClass",value:function(a){return this.settings.classesPrefix+a}},{key:"initElements",value:function(){this.elements={$window:jQuery(window)},this.$container.addClass(this.getItemClass(this.settings.classes.container)+" "+this.getItemClass(this.settings.type))}},{key:"bindEvents",value:function(){this.elements.$window.on("resize",this.runGallery)}},{key:"getNestedObjectData",value:function(a,b){var c=b.split("."),d=c.splice(0,1);return c.length?this.getNestedObjectData(a[d],c.join(".")):{object:a,key:b}}},{key:"getTemplateArgs",value:function(a,b){var c=this.getNestedObjectData(a,b);return c.object[c.key]||""}},{key:"compileTemplate",value:function(a,b){var c=this;return a.replace(/{{([^}]+)}}/g,function(a,d){return c.getTemplateArgs(b,d.trim())})}},{key:"createOverlay",value:function(a){var b=this.settings,c=b.classes,d=b.overlayTemplate,e=jQuery("<div>",{class:this.getItemClass(c.overlay)}),f=this.compileTemplate(d,jQuery.extend(!0,this.settings,a));return e.html(f),e}},{key:"createItem",value:function(a){var b,c=this.settings.classes,d=jQuery("<div>",{class:this.getItemClass(c.item)}),f=jQuery("<div>",{class:this.getItemClass(c.image)}).css("background-image","url("+a.thumbnail+")");this.settings.overlay&&(b=this.createOverlay(a));var g=d;return a.url&&(g=jQuery("<a>",{class:this.getItemClass(c.link),href:a.url}),d.html(g)),g.html(f),b&&g.append(b),d}},{key:"debounce",value:function(a,b){var c;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=this;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(g,e)},b)}}},{key:"getCurrentBreakpoint",value:function(){var a=Object.keys(this.settings.breakpoints).map(Number).sort(function(a,b){return a-b}),b=0;return a.some(function(a){return innerWidth<a&&(b=a,!0)}),b}},{key:"getCurrentDeviceSetting",value:function(a){var b=this.getCurrentBreakpoint();return b?this.settings.breakpoints[b][a]:this.settings[a]}},{key:"buildGallery",value:function(){var a=this,b=this.settings.items;this.$items=jQuery(),b.forEach(function(b){var c=a.createItem(b);a.$items=a.$items.add(c),a.$container.append(c)})}},{key:"calculateImageSize",value:function(a,b){this.imagesData[b]={width:a.width,height:a.height,ratio:a.width/a.height}}},{key:"loadImages",value:function(){var a=this,b=[];this.imagesData=[],this.settings.items.forEach(function(c,d){var e=new Image,f=new Promise(function(a){e.onload=a});b.push(f),f.then(function(){return a.calculateImageSize(e,d)}),e.src=c.thumbnail}),Promise.all(b).then(function(){return a.runGallery()})}},{key:"makeGalleryFromContent",value:function(){var a=this.settings.selectors,b=[];this.$items=this.$container.find(a.items),this.$items.each(function(c,d){var e=jQuery(d).find(a.image),f=e.data("thumbnail");e.css("background-image","url(\"".concat(f,"\")")),b[c]={thumbnail:f}}),this.settings.items=b}},{key:"prepareGallery",value:function(){this.settings.items?this.buildGallery():this.makeGalleryFromContent(),this.loadImages()}},{key:"runGallery",value:function(a){var b=this.$container[0].style;b.setProperty("--hgap",this.getCurrentDeviceSetting("horizontalGap")+"px"),b.setProperty("--vgap",this.getCurrentDeviceSetting("verticalGap")+"px"),b.setProperty("--animation-duration",this.settings.animationDuration+"ms"),this.run(a)}},{key:"setSettings",value:function(a,b){var c=this.getNestedObjectData(this.settings,a);c.object&&(c.object[c.key]=b,this.runGallery(!0))}},{key:"unbindEvents",value:function(){this.elements.$window.off("resize",this.runGallery)}},{key:"destroy",value:function(){this.unbindEvents(),this.$container.empty()}}]),a}(),f=function(b){function c(){return i()(this,c),a()(this,l()(c).apply(this,arguments))}return h()(c,b),k()(c,[{key:"getDefaultSettings",value:function(){return{idealRowHeight:200,lastRow:"normal",breakpoints:{1024:{idealRowHeight:150,lastRow:"fit"},768:{idealRowHeight:100,lastRow:"fit"}}}}},{key:"run",value:function(){this.rowsHeights=[],this.rowsCount=0,this.containerWidth=this.$container.width(),this.makeJustifiedRow(0)}},{key:"makeJustifiedRow",value:function(b){for(var c,d=0,f=b;;f++){c=Math.round(this.getCurrentDeviceSetting("idealRowHeight")*this.imagesData[f].ratio),c>this.containerWidth&&(c=this.containerWidth);var g=d+c;if(g>this.containerWidth&&this.containerWidth-d<g-this.containerWidth){this.fitImagesInContainer(b,f,d),this.rowsCount++,this.makeJustifiedRow(f);break}var h=f===this.settings.items.length-1;if(this.imagesData[f].computedWidth=c,h){var j=this.getCurrentDeviceSetting("lastRow");if("hide"!==j){var k="fit"===j?g:this.containerWidth;this.fitImagesInContainer(b,f+1,k)}this.inflateGalleryHeight();break}d=g}}},{key:"fitImagesInContainer",value:function(b,d,e){for(var f=d-b-1,g=0,h=b;h<d;h++){var i=this.imagesData[h],j=i.computedWidth/e,a=this.$items.get(h),k=this.getItemClass(this.settings.classes.firstRowItem);if(a.style.setProperty("--item-width",j),a.style.setProperty("--gap-count",f),a.style.setProperty("--item-height",100*(i.height/i.width)+"%"),a.style.setProperty("--item-left",g),a.style.setProperty("--item-row-index",h-b),g+=j,h===b){a.classList.add(k);var l=j*(this.containerWidth-f*this.getCurrentDeviceSetting("horizontalGap"));this.rowsHeights.push(l/i.ratio)}else a.classList.remove(k)}}},{key:"inflateGalleryHeight",value:function(){var a=this.rowsHeights.reduce(function(a,b){return a+b})+this.rowsCount*this.getCurrentDeviceSetting("verticalGap"),b=a/this.containerWidth,c=this.rowsHeights.map(function(b){return 100*(b/a)}),d=-1,f=0;this.$items.each(function(a,b){"0"===b.style.getPropertyValue("--item-row-index")&&++d&&(f+=c[d-1]),b.style.setProperty("--item-top",f+"%"),b.style.setProperty("--item-height",c[d]+"%"),b.style.setProperty("--row",d)}),this.$container[0].style.setProperty("--container-aspect-ratio",b)}}]),c}(p);e(8),e.d(d,"default",function(){return m});var m=function(){function a(b){i()(this,a),this.userSettings=b,this.initGalleriesTypes(),this.createGallery()}return k()(a,[{key:"getDefaultSettings",value:function(){return{container:null,items:null,type:"justified",overlay:!1,overlayTemplate:"<div class=\"{{ classesPrefix }}{{ classes.overlayTitle }}\">{{ title }}</div><div class=\"{{ classesPrefix }}{{ classes.overlayDescription }}\">{{ description }}</div>",columns:4,horizontalGap:30,verticalGap:30,animationDuration:300,classesPrefix:"uicore-grid-",classes:{container:"container",item:"item",image:"image",overlay:"overlay",overlayTitle:"overlay__title",overlayDescription:"overlay__description",link:"link",firstRowItem:"first-row-item",animated:"-animated"},selectors:{items:".uicore-grid-item",image:".uicore-cover-img"},breakpoints:{1024:{horizontalGap:5,verticalGap:5,columns:3},768:{horizontalGap:1,verticalGap:1,columns:2}}}}},{key:"initGalleriesTypes",value:function(){this.galleriesTypes={justified:f}}},{key:"createGallery",value:function(){var a=jQuery.extend(!0,this.getDefaultSettings(),this.userSettings),b=this.galleriesTypes[a.type];this.galleryHandler=new b(a)}},{key:"setSettings",value:function(a,b){this.galleryHandler.setSettings(a,b)}},{key:"destroy",value:function(){this.galleryHandler.destroy()}}]),a}()}]).default;!function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"==typeof window?this:window,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){c=c.slice(0),b=b||[];for(var d=this._onceEvents&&this._onceEvents[a],e=0;e<c.length;e++){var f=c[e],g=d&&d[f];g&&(this.off(a,f),delete d[f]),f.apply(this,b)}return this}},b.allOff=function(){delete this._events,delete this._onceEvents},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.imagesLoaded=b(a,a.EvEmitter)}("undefined"==typeof window?this:window,function(b,c){function f(a,b){for(var c in b)a[c]=b[c];return a}function g(b){if(Array.isArray(b))return b;var c="object"==typeof b&&"number"==typeof b.length;return c?a.call(b):[b]}function j(a,b,c){if(!(this instanceof j))return new j(a,b,c);var d=a;return"string"==typeof a&&(d=document.querySelectorAll(a)),d?(this.elements=g(d),this.options=f({},this.options),"function"==typeof b?c=b:f(this.options,b),c&&this.on("always",c),this.getImages(),l&&(this.jqDeferred=new l.Deferred),void setTimeout(this.check.bind(this))):void m.error("Bad element for imagesLoaded "+(d||a))}function i(a){this.img=a}function k(a,b){this.url=a,this.element=b,this.img=new Image}var l=b.jQuery,m=b.console,a=Array.prototype.slice;j.prototype=Object.create(c.prototype),j.prototype.options={},j.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},j.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),!0===this.options.background&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&d[b]){for(var c,e=a.querySelectorAll("img"),f=0;f<e.length;f++)c=e[f],this.addImage(c);if("string"==typeof this.options.background){var g=a.querySelectorAll(this.options.background);for(f=0;f<g.length;f++){var h=g[f];this.addElementBackgroundImages(h)}}}};var d={1:!0,9:!0,11:!0};return j.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c,d=/url\((['"])?(.*?)\1\)/gi,e=d.exec(b.backgroundImage);null!==e;)c=e&&e[2],c&&this.addBackground(c,a),e=d.exec(b.backgroundImage)},j.prototype.addImage=function(a){var b=new i(a);this.images.push(b)},j.prototype.addBackground=function(a,b){var c=new k(a,b);this.images.push(c)},j.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(b){b.once("progress",a),b.check()}):void this.complete()},j.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&m&&m.log("progress: "+c,a,b)},j.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},i.prototype=Object.create(c.prototype),i.prototype.check=function(){var a=this.getIsImageComplete();return a?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},k.prototype=Object.create(i.prototype),k.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var a=this.getIsImageComplete();a&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},k.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},k.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},j.makeJQueryPlugin=function(a){a=a||b.jQuery,a&&(l=a,l.fn.imagesLoaded=function(a,b){var c=new j(this,a,b);return c.jqDeferred.promise(l(this))})},j.makeJQueryPlugin(),j}),!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(b,c){"use strict";function a(j,i,k){function l(a,b,c){var e,f="$()."+j+"(\""+b+"\")";return a.each(function(a,i){var h=k.data(i,j);if(!h)return void g(j+" not initialized. Cannot call methods, i.e. "+f);var m=h[b];if(!m||"_"==b.charAt(0))return void g(f+" is not a valid method");var d=m.apply(h,c);e=void 0===e?d:e}),void 0===e?a:e}function h(a,b){a.each(function(a,c){var d=k.data(c,j);d?(d.option(b),d._init()):(d=new i(c,b),k.data(c,j,d))})}k=k||c||b.jQuery,k&&(i.prototype.option||(i.prototype.option=function(a){k.isPlainObject(a)&&(this.options=k.extend(!0,this.options,a))}),k.fn[j]=function(a){if("string"==typeof a){var b=f.call(arguments,1);return l(this,a,b)}return h(this,a),this},d(k))}function d(b){!b||b&&b.bridget||(b.bridget=a)}var f=Array.prototype.slice,e=b.console,g="undefined"==typeof e?function(){}:function(a){e.error(a)};return d(c||b.jQuery),a}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"==typeof window?this:window,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{},d=c[a]=c[a]||{};return d[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){c=c.slice(0),b=b||[];for(var d=this._onceEvents&&this._onceEvents[a],f=0;f<c.length;f++){var g=c[f],h=d&&d[g];h&&(this.off(a,g),delete d[g]),g.apply(this,b)}return this}},b.allOff=function(){delete this._events,delete this._onceEvents},a}),function(a,b){"function"==typeof define&&define.amd?define("get-size/get-size",b):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){"use strict";function j(a){var b=parseFloat(a),c=-1==a.indexOf("%")&&!isNaN(b);return c&&b}function k(){for(var a,b={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},c=0;h>c;c++)a=g[c],b[a]=0;return b}function q(a){var b=getComputedStyle(a);return b||c("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),b}function i(){if(!a){a=!0;var c=document.createElement("div");c.style.width="200px",c.style.padding="1px 2px 3px 4px",c.style.borderStyle="solid",c.style.borderWidth="1px 2px 3px 4px",c.style.boxSizing="border-box";var d=document.body||document.documentElement;d.appendChild(c);var e=q(c);n=200==Math.round(j(e.width)),b.isBoxSizeOuter=n,d.removeChild(c)}}function b(o){if(i(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var s=q(o);if("none"==s.display)return k();for(var r={width:o.offsetWidth,height:o.offsetHeight},a=r.isBorderBox="border-box"==s.boxSizing,d=0;h>d;d++){var t=g[d],c=s[t],f=parseFloat(c);r[t]=isNaN(f)?0:f}var m=r.paddingLeft+r.paddingRight,p=r.paddingTop+r.paddingBottom,u=r.marginLeft+r.marginRight,w=r.marginTop+r.marginBottom,v=r.borderLeftWidth+r.borderRightWidth,y=r.borderTopWidth+r.borderBottomWidth,z=a&&n,A=j(s.width);!1!==A&&(r.width=A+(z?0:m+v));var b=j(s.height);return!1!==b&&(r.height=b+(z?0:p+y)),r.innerWidth=r.width-(m+v),r.innerHeight=r.height-(p+y),r.outerWidth=r.width+u,r.outerHeight=r.height+w,r}}var n,c="undefined"==typeof console?function(){}:function(a){console.error(a)},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=g.length,a=!1;return b}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){"use strict";var a=function(){var a=window.Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0;c<b.length;c++){var d=b[c],e=d+"MatchesSelector";if(a[e])return e}}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(b,a){var c={extend:function(a,b){for(var c in b)a[c]=b[c];return a},modulo:function(a,b){return(a%b+b)%b}},d=Array.prototype.slice;c.makeArray=function(a){if(Array.isArray(a))return a;if(null===a||void 0===a)return[];var b="object"==typeof a&&"number"==typeof a.length;return b?d.call(a):[a]},c.removeFrom=function(a,b){var c=a.indexOf(b);-1!=c&&a.splice(c,1)},c.getParent=function(b,c){for(;b.parentNode&&b!=document.body;)if(b=b.parentNode,a(b,c))return b},c.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},c.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.filterFindElements=function(b,d){b=c.makeArray(b);var e=[];return b.forEach(function(b){if(b instanceof HTMLElement){if(!d)return void e.push(b);a(b,d)&&e.push(b);for(var c=b.querySelectorAll(d),f=0;f<c.length;f++)e.push(c[f])}}),e},c.debounceMethod=function(a,b,c){c=c||100;var d=a.prototype[b],f=b+"Timeout";a.prototype[b]=function(){var a=this[f];clearTimeout(a);var b=arguments,e=this;this[f]=setTimeout(function(){d.apply(e,b),delete e[f]},c)}},c.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},c.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var e=b.console;return c.htmlInit=function(a,d){c.docReady(function(){var f=c.toDashed(d),g="data-"+f,i=document.querySelectorAll("["+g+"]"),j=document.querySelectorAll(".js-"+f),h=c.makeArray(i).concat(c.makeArray(j)),k=b.jQuery;h.forEach(function(b){var c,f=b.getAttribute(g)||b.getAttribute(g+"-options");try{c=f&&JSON.parse(f)}catch(c){return void(e&&e.error("Error parsing "+g+" on "+b.className+": "+c))}var j=new a(b,c);k&&k.data(b,d,j)})})},c}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(b,g){"use strict";function j(a){for(var b in a)return!1;return b=null,!0}function e(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var i=document.documentElement.style,k="string"==typeof i.transition?"transition":"WebkitTransition",m="string"==typeof i.transform?"transform":"WebkitTransform",a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[k],h={transform:m,transition:k,transitionDuration:k+"Duration",transitionProperty:k+"Property",transitionDelay:k+"Delay"},n=e.prototype=Object.create(b.prototype);n.constructor=e,n._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},n.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},n.getSize=function(){this.size=g(this.element)},n.css=function(a){var b=this.element.style;for(var c in a){var d=h[c]||c;b[d]=a[c]}},n.getPosition=function(){var b=getComputedStyle(this.element),c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),e=b[c?"left":"right"],f=b[d?"top":"bottom"],g=parseFloat(e),h=parseFloat(f),i=this.layout.size;-1!=e.indexOf("%")&&(g=g/100*i.width),-1!=f.indexOf("%")&&(h=h/100*i.height),g=isNaN(g)?0:g,h=isNaN(h)?0:h,g-=c?i.paddingLeft:i.paddingRight,h-=d?i.paddingTop:i.paddingBottom,this.position.x=g,this.position.y=h},n.layoutPosition=function(){var b=this.layout.size,c={},e=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop"),g=e?"paddingLeft":"paddingRight",i=e?"left":"right",j=e?"right":"left",k=this.position.x+b[g];c[i]=this.getXValue(k),c[j]="";var a=f?"paddingTop":"paddingBottom",h=f?"top":"bottom",m=f?"bottom":"top",d=this.position.y+b[a];c[h]=this.getYValue(d),c[m]="",this.css(c),this.emitEvent("layout",[this])},n.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?100*(a/this.layout.size.width)+"%":a+"px"},n.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?100*(a/this.layout.size.height)+"%":a+"px"},n._transitionTo=function(b,c){this.getPosition();var d=this.position.x,e=this.position.y,f=b==this.position.x&&c==this.position.y;if(this.setPosition(b,c),f&&!this.isTransitioning)return void this.layoutPosition();var g={};g.transform=this.getTranslate(b-d,c-e),this.transition({to:g,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},n.getTranslate=function(a,b){var c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop");return a=c?a:-a,b=d?b:-b,"translate3d("+a+"px, "+b+"px, 0)"},n.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},n.moveTo=n._transitionTo,n.setPosition=function(a,b){this.position.x=parseFloat(a),this.position.y=parseFloat(b)},n._nonTransition=function(a){for(var b in this.css(a.to),a.isCleaning&&this._removeStyles(a.to),a.onTransitionEnd)a.onTransitionEnd[b].call(this)},n.transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);this.element.offsetHeight}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var d="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(m);n.enableTransition=function(){if(!this.isTransitioning){var b=this.layout.options.transitionDuration;b="number"==typeof b?b+"ms":b,this.css({transitionProperty:d,transitionDuration:b,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(a,this,!1)}},n.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},n.onotransitionend=function(a){this.ontransitionend(a)};var l={"-webkit-transform":"transform"};n.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,c=l[a.propertyName]||a.propertyName;if(delete b.ingProperties[c],j(b.ingProperties)&&this.disableTransition(),c in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[c]),c in b.onEnd){var d=b.onEnd[c];d.call(this),delete b.onEnd[c]}this.emitEvent("transitionEnd",[this])}},n.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(a,this,!1),this.isTransitioning=!1},n._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return n.removeTransitionStyles=function(){this.css(c)},n.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},n.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},n.remove=function(){return k&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},n.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("visibleStyle");b[c]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},n.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},n.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},n.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={},c=this.getHideRevealTransitionEndProperty("hiddenStyle");b[c]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},n.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},n.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},e}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(b,g,j,k,n){"use strict";function o(b,c){var e=k.getQueryElement(b);if(!e)return void(a&&a.error("Bad element for "+this.constructor.namespace+": "+(e||b)));this.element=e,h&&(this.$element=h(this.element)),this.options=k.extend({},this.constructor.defaults),this.option(c);var f=++d;this.element.outlayerGUID=f,q[f]=this,this._create();var g=this._getOption("initLayout");g&&this.layout()}function p(a){function b(){a.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b}function e(a){if("number"==typeof a)return a;var b=a.match(/(^\d*\.?\d*)(\w*)/),c=b&&b[1],d=b&&b[2];if(!c.length)return 0;c=parseFloat(c);var e=f[d]||1;return c*e}var a=b.console,h=b.jQuery,i=function(){},d=0,q={};o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=o.prototype;k.extend(c,g.prototype),c.option=function(a){k.extend(this.options,a)},c._getOption=function(a){var b=this.constructor.compatOptions[a];return b&&void 0!==this.options[b]?this.options[b]:this.options[a]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),k.extend(this.element.style,this.options.containerStyle);var a=this._getOption("resize");a&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0;e<b.length;e++){var f=b[e],g=new c(f,this);d.push(g)}return d},c._filterFindItemElements=function(a){return k.filterFindElements(a,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(a){return a.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),b=void 0===a?!this._isLayoutInited:a;this.layoutItems(this.items,b),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=j(this.element)},c._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):d instanceof HTMLElement&&(c=d),this[a]=c?j(c)[b]:d):this[a]=0},c.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},c._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})},c._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){var c=[];a.forEach(function(a){var d=this._getItemLayoutPosition(a);d.item=a,d.isInstant=b||a.isLayoutInstant,c.push(d)},this),this._processLayoutQueue(c)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(a,b){this._positionItem(a.item,a.x,a.y,a.isInstant,b)},this)},c.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void(this.stagger=0):(this.stagger=e(a),this.stagger)},c._positionItem=function(a,b,c,d,e){d?a.goTo(b,c):(a.stagger(e*this.stagger),a.moveTo(b,c))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var a=this._getOption("resizeContainer");if(a){var b=this._getContainerSize();b&&(this._setContainerMeasure(b.width,!0),this._setContainerMeasure(b.height,!1))}},c._getContainerSize=i,c._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},c._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){g++,g==f&&c()}var e=this,f=b.length;if(!b||!f)return void c();var g=0;b.forEach(function(b){b.once(a,d)})},c.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),h)if(this.$element=this.$element||h(this.element),b){var e=h.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},c.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},c.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},c.stamp=function(a){a=this._find(a),a&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},c.unstamp=function(a){a=this._find(a),a&&a.forEach(function(a){k.removeFrom(this.stamps,a),this.unignore(a)},this)},c._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=k.makeArray(a)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},c._manageStamp=i,c._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=j(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},c.handleEvent=k.handleEvent,c.bindResize=function(){b.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){b.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},k.debounceMethod(o,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var a=j(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},c.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},c.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},c.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},c.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.reveal()})}},c.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.hide()})}},c.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},c.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},c.getItem=function(a){for(var b,c=0;c<this.items.length;c++)if(b=this.items[c],b.element==a)return b},c.getItems=function(a){a=k.makeArray(a);var b=[];return a.forEach(function(a){var c=this.getItem(a);c&&b.push(c)},this),b},c.remove=function(a){var b=this.getItems(a);this._emitCompleteOnItems("remove",b),b&&b.length&&b.forEach(function(a){a.remove(),k.removeFrom(this.items,a)},this)},c.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(a){a.destroy()}),this.unbindResize();var b=this.element.outlayerGUID;delete q[b],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},o.data=function(a){a=k.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&q[b]},o.create=function(a,b){var c=p(o);return c.defaults=k.extend({},o.defaults),k.extend(c.defaults,b),c.compatOptions=k.extend({},o.compatOptions),c.namespace=a,c.data=o.data,c.Item=p(n),k.htmlInit(c,a),h&&h.bridget&&h.bridget(a,c),c};var f={ms:1,s:1e3};return o.Item=n,o}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(a,b){var c=a.create("masonry");c.compatOptions.fitWidth="isFitWidth";var d=c.prototype;return d._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},d.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var c=this.items[0],d=c&&c.element;this.columnWidth=d&&b(d).outerWidth||this.containerWidth}var e=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,g=f/e,h=e-f%e,i=h&&1>h?"round":"floor";g=Math[i](g),this.cols=Math.max(g,1)},d.getContainerWidth=function(){var a=this._getOption("fitWidth"),c=a?this.element.parentNode:this.element,d=b(c);this.containerWidth=d&&d.innerWidth},d._getItemLayoutPosition=function(b){b.getSize();var c=b.size.outerWidth%this.columnWidth,d=c&&1>c?"round":"ceil",e=Math[d](b.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",g=this[f](e,b),i={x:this.columnWidth*g.col,y:g.y},j=g.y+b.size.outerHeight,a=e+g.col,h=g.col;a>h;h++)this.colYs[h]=j;return i},d._getTopColPosition=function(a){var b=this._getTopColGroup(a),c=Math.min.apply(Math,b);return{col:b.indexOf(c),y:c}},d._getTopColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++)b[d]=this._getColGroupY(d,a);return b},d._getColGroupY=function(a,b){if(2>b)return this.colYs[a];var c=this.colYs.slice(a,a+b);return Math.max.apply(Math,c)},d._getHorizontalColPosition=function(a,b){var c=this.horizontalColIndex%this.cols,d=1<a&&c+a>this.cols;c=d?0:c;var e=b.size.outerWidth&&b.size.outerHeight;return this.horizontalColIndex=e?c+a:this.horizontalColIndex,{col:c,y:this._getColGroupY(c,a)}},d._manageStamp=function(c){var e=b(c),f=this._getElementOffset(c),g=this._getOption("originLeft"),i=g?f.left:f.right,j=i+e.outerWidth,k=Math.floor(i/this.columnWidth);k=Math.max(0,k);var m=Math.floor(j/this.columnWidth);m-=j%this.columnWidth?0:1,m=Math.min(this.cols-1,m);for(var n=this._getOption("originTop"),o=(n?f.top:f.bottom)+e.outerHeight,d=k;m>=d;d++)this.colYs[d]=Math.max(o,this.colYs[d])},d._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},d._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},c});

var grid = document.querySelector('.uicore-grid-container.uicore-masonry')
grid = grid ?? document.querySelector('.uicore-grid-container.uicore-justified')
grid = grid ??  document.querySelector('.uicore-grid-container.uicore-masonry-tiles')

if (typeof(grid) != 'undefined' && grid != null)
{
  if (grid.hasAttribute('data-grid') != null) {
    var type = grid.getAttribute('data-grid');
    var col = grid.getAttribute('data-col');
    var space = grid.getAttribute('data-space');
    var size = grid.getAttribute('data-size');
    if (type == 'justified') {
      new EGallery({
        container: '.uicore-grid-container',
        type: 'justified',
        idealRowHeight: size,
        columns: col,
        horizontalGap: space,
        verticalGap: space,
        lastRow: 'fit',
      });
    } else {
      // init Masonry
      var msnry = new Masonry(grid, {
        itemSelector: '.uicore-grid-item',
        percentPosition: true
      });

      imagesLoaded(grid).on('progress', function () {
        // layout Masonry after each image loads
        msnry.layout();
      });

    }
  }
}
